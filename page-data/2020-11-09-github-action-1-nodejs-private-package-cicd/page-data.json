{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/2020-11-09-github-action-1-nodejs-private-package-cicd/","result":{"data":{"site":{"siteMetadata":{"title":"ëª¨ì¸ ê¸°ìˆ  ë¸”ë¡œê·¸"}},"markdownRemark":{"id":"4f51fb05-8d64-56ab-88de-ee37576fe7c1","excerpt":"ëª¨ì¸ ê°œë°œíŒ€ì€ ë¥¼ ì£¼ ë¡œ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. microsoft ê°€ githubë¥¼ ì¸ìˆ˜í•˜ê³  ë‚˜ì„œ githubëŠ” ì´ì „ë³´ë‹¤ ë” ì¢‹ì€ í™˜ê²½ì„ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ ì¤‘ì— ëˆˆì— ë“¤ì–´ì˜¨ ì„œë¹„ìŠ¤ê°€ ìˆì—ˆìŠµë‹ˆë‹¤. ê·¸ê²ƒì€ github action - CI/CIâ€¦","html":"<p>ëª¨ì¸ ê°œë°œíŒ€ì€ <code class=\"language-text\">github</code>ë¥¼ ì£¼ <code class=\"language-text\">repository</code>ë¡œ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. microsoft ê°€ githubë¥¼ ì¸ìˆ˜í•˜ê³  ë‚˜ì„œ githubëŠ” ì´ì „ë³´ë‹¤ ë” ì¢‹ì€ í™˜ê²½ì„ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ ì¤‘ì— ëˆˆì— ë“¤ì–´ì˜¨ ì„œë¹„ìŠ¤ê°€ ìˆì—ˆìŠµë‹ˆë‹¤. ê·¸ê²ƒì€ github action - CI/CI ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ëª¨ì¸ ê°œë°œíŒ€ì€ ê¸°ë³¸ì ìœ¼ë¡œ ì  í‚¨ìŠ¤ë¥¼ í™œìš©í•˜ì—¬ CI/CDë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì  í‚¨ìŠ¤ë¥¼ <strong>â€˜ì •ë§ ì˜â€™</strong> ë‹¤ë£¨ëŠ” ì¸ì›ë„ ì—†ê³  ì  í‚¨ìŠ¤ êµ¬ì„± íŒŒì¼ì€ íŠ¹ë³„í•œ(?) ë¬¸ë²•ì„ ì‚¬ìš©í•˜ê³  ìˆì–´ì„œ ì½ê¸°ë„ ì–´ë ¤ìš´ ìƒí™©ì´ì–´ì„œ â€˜develop í™˜ê²½ì—ì„œëŠ” github action ë¥¼ ì‚¬ìš©í•´ ë³´ë©´ ì–´ë–¨ê¹Œâ€™í•˜ëŠ” ì˜ê²¬ì´ ìˆì—ˆìŠµë‹ˆë‹¤.</p>\n<h1>NodeJS Private Package ë°°í¬ CI/CD</h1>\n<p>Github ActionëŠ” ë‹¤ì–‘í•œ ì˜ˆì œê°€ ì¡´ì¬í•˜ê³  ë‹¤ì–‘í•œ ê¸°ëŠ¥ë“¤ì´ ì—¬ëŸ¬ ê¸°ì—¬ìë¡œ ë¶€í„° ìƒì„±ë˜ì–´ ì œê³µë˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤. ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” github ì—ì„œ ì œê³µí•˜ëŠ” private registry ì— node package ë¥¼ ë°°í¬í•˜ê³  ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì˜ˆì œë¥¼ ë‹¤ë£¨ê² ìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  Action ë¥¼ í™œìš©í•˜ì—¬ publish ë¥¼ ìë™ìœ¼ë¡œ í•˜ëŠ” êµ¬ì„±ì„ ì ìš©í•˜ê² ìŠµë‹ˆë‹¤.</p>\n<p>ì½”ë“œì™€ ê´€ë ¨ ì‚¬í•­ì€ <a href=\"https://github.com/themoin/greeter\">https://github.com/themoin/greeter</a> ì—ì„œ í™•ì¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<h1>ë¼ì´ë¸ŒëŸ¬ë¦¬ í”„ë¡œì íŠ¸</h1>\n<p>ì˜¤í•´ë¥¼ ìµœëŒ€í•œ ì¤„ì´ê¸° ìœ„í•´ì„œ ì¸ì‚¬í•˜ëŠ” í´ë˜ìŠ¤(Greeter)ë¥¼ ë§Œë“¤ì–´ ë°°í¬í•  ê²ƒì…ë‹ˆë‹¤. Greeter í´ë˜ìŠ¤ì˜ í™œìš©ì€ ë‹¤ìŒê³¼ ê°™ì´ í•˜ë ¤ê³  í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> greeter <span class=\"token keyword\">from</span> <span class=\"token string\">\"@themoin/greeter\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> greeter <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Greeter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> greeting_msg <span class=\"token operator\">=</span> greeter<span class=\"token punctuation\">.</span><span class=\"token function\">greet</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Moin\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>greeting_msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Hello Moin</span></code></pre></div>\n<h2>í”„ë¡œì íŠ¸ ì„¤ì • ë° ì½”ë“œ ì‘ì„±</h2>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Greeter</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">greet</span><span class=\"token punctuation\">(</span>to<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Hello </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>to<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>package.json ìˆ˜ì •</h2>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"@themoin/greeter\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.0.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"main\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"out/Greeter.js\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"jest\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"tsc\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"keywords\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"license\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ISC\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"devDependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"@types/jest\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^26.0.15\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"jest\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^26.6.3\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"ts-jest\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^26.4.3\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"ts-node\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^9.0.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"typescript\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^4.0.5\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì—¬ê¸°ì„œ ì²˜ë¦¬í•´ì•¼ í•˜ëŠ” ë¶€ë¶„ì€ <code class=\"language-text\">name</code> ê³¼ <code class=\"language-text\">version</code>, <code class=\"language-text\">main</code> ë¶€ë¶„ì…ë‹ˆë‹¤. <code class=\"language-text\">name</code> ì€ ê³„ì •ì´ë‚˜ ê¸°ê´€ì˜ ì´ë¦„ì— <code class=\"language-text\">@</code> prefix ë¥¼ ë¶™ì´ëŠ” ê²ƒì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  <code class=\"language-text\">\\</code> ë¡œ êµ¬ë¶„í•˜ì—¬ package ì´ë¦„ì„ ì ì–´ ë„£ìŠµë‹ˆë‹¤. <code class=\"language-text\">name</code> ê°’ìœ¼ë¡œ ìˆëŠ” <code class=\"language-text\">@themoin/greeter</code> ì—ì„œ themoin ëŠ” ê¸°ê´€ëª…ì´ê³  greeter ëŠ” íŒ¨í‚¤ì§€ ì´ë¦…ë‹ˆë‹¤. íŒ¨í‚¤ì§€ ì´ë¦„ì€ ë°˜ë“œì‹œ github repository ì´ë¦„ê³¼ ë™ì¼í•´ì•¼ í•©ë‹ˆë‹¤. version ëŠ” package registry ìƒ íŒ¨í‚¤ì§€ì˜ ìœ ì¼í•œ ë²„ì „ìœ¼ë¡œ í•©ë‹ˆë‹¤. <code class=\"language-text\">main</code> ì²˜ë¦¬ëŠ” ë³´í†µ index.js ë¡œ í•˜ì§€ë§Œ ì €ëŠ” Greeter.js ë¡œ main ìœ¼ë¡œ ì²˜ë¦¬í–ˆìŠµë‹ˆë‹¤.</p>\n<h2>.npmrc ì ìš©</h2>\n<p>.npmrcë¥¼ ì‘ì„±í•´ë©´ <code class=\"language-text\">npm publish</code> ì‹œ, ì›í•˜ëŠ” registry ì— packageë¥¼ ì—…ë¡œë“œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. .npmrc ë¥¼ ì „ì—­ìœ¼ë¡œ ì‚¬ìš©í•˜ë ¤ë©´ ì‚¬ìš©ì directory(<code class=\"language-text\">~/.npmrc</code>)ë‚˜ npm ë¥¼ ì‹¤í–‰í•˜ëŠ” í”„ë¡œì íŠ¸ root directory ì— ì‘ì„±í•˜ë©´ ë©ë‹ˆë‹¤. <code class=\"language-text\">.npmrc</code> ì— ë‘ ê°€ì§€ ê°’ì„ ì„¤ì •í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">@themoin:registry<span class=\"token operator\">=</span>https://npm.pkg.github.com\n//npm.pkg.github.com/:_authToken<span class=\"token operator\">=</span>abc</code></pre></div>\n<p>ì²« ë²ˆì§¸ , <code class=\"language-text\">@themoin:registry=https://npm.pkg.github.com</code> ë¥¼ ë³´ë©´ ì•Œê² ì§€ë§Œ <code class=\"language-text\">@themoin</code> ì´ë¡œ ì‹œì‘í•˜ëŠ” íŒ¨í‚¤ì§€ì˜ <code class=\"language-text\">https://npm.pkg.github.com</code> registry ë¥¼ ì‚¬ìš©í•˜ê² ë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤. ë‹¤ìŒì— ìˆëŠ” <code class=\"language-text\">//npm.pkg.github.com/:_authToken=abc</code> ëŠ” private registry ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì¸ì¦ í† í° ê°’ì…ë‹ˆë‹¤. í•´ë‹¹ í† í°ì€ <a href=\"https://github.com/settings/tokens\">ë§í¬</a>ì—ì„œ ë°œê¸‰ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìƒì„±í•  ë•Œì— <code class=\"language-text\">write:packages</code> ë¥¼ ê¼­ ì¶”ê°€í•´ ì£¼ì…”ì•¼ íŒ¨í‚¤ì§€ë¥¼ ì—…ë¡œë“œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<h2>.npmignore ì²˜ë¦¬</h2>\n<p>npm publish ë¥¼ í•˜ë©´ ì´ê²ƒ ì €ê²ƒ ì˜¬ë¼ê°€ë©´ ì•ˆë˜ëŠ” ê²ƒë“¤ë„ í¬í•¨ë©ë‹ˆë‹¤. ì €ëŠ” ì•„ë˜ì™€ ê°™ì€ ê²ƒë“¤ì´ ì˜¬ë¼ê°€ë©´ ì•ˆ ë˜ì„œ ì‘ì„± í–ˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># .npmignore</span>\nsrc\ntests\njest.config.js\ntsconfig.json\n.jest</code></pre></div>\n<h2>ë°°í¬í•˜ê¸°</h2>\n<p>package.json ì™€ .npmrc ë° .npmignoreê°€ ì ì ˆí•˜ê²Œ ì‘ì„± ë˜ì—ˆë‹¤ë©´ ë°°í¬ë¥¼ í•´ë´…ì‹œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> publish\n<span class=\"token function\">npm</span> notice\n<span class=\"token function\">npm</span> notice ğŸ“¦  @themoin/greeter@1.0.0\n<span class=\"token function\">npm</span> notice <span class=\"token operator\">==</span><span class=\"token operator\">=</span> Tarball Contents <span class=\"token operator\">==</span><span class=\"token operator\">=</span>\n<span class=\"token function\">npm</span> notice 174B out/Greeter.js\n<span class=\"token function\">npm</span> notice 375B package.json\n<span class=\"token function\">npm</span> notice 64B  out/Greeter.d.ts\n<span class=\"token function\">npm</span> notice <span class=\"token operator\">==</span><span class=\"token operator\">=</span> Tarball Details <span class=\"token operator\">==</span><span class=\"token operator\">=</span>\n<span class=\"token function\">npm</span> notice name:          @themoin/greeter\n<span class=\"token function\">npm</span> notice version:       <span class=\"token number\">1.0</span>.0\n<span class=\"token function\">npm</span> notice package size:  <span class=\"token number\">504</span> B\n<span class=\"token function\">npm</span> notice unpacked size: <span class=\"token number\">613</span> B\n<span class=\"token function\">npm</span> notice shasum:        0c69<span class=\"token punctuation\">..</span>.61f49\n<span class=\"token function\">npm</span> notice integrity:     sha512-f6URJM1<span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span>OamBe4/gXumhQ<span class=\"token operator\">==</span>\n<span class=\"token function\">npm</span> notice total files:   <span class=\"token number\">3</span>\n<span class=\"token function\">npm</span> notice\n+ @themoin/greeter@1.0.0\n$</code></pre></div>\n<p>github repository ì— ê°€ì„œ í™•ì¸í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ package ë¶€ë¶„ì— ì¶”ê°€ ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8da216349a6b4e8a3b107d46974aa52f/df5d6/4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.93670886075949%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABn0lEQVQoz0VRW46cMBDk/ofIDfKRW2x+EkVKpGhGsxuNsgwGFj/AGNvgSrUns2tRtPvp6u4mhA1bjMh5p0xVyilFUOo9pQy3LNhChHIjPv36jK/tD2w+IO8Z+75X5JzRdJPB9faGdrRQeoHbCnHAhQNzLFgiqm10AYMJ6BhzUh2GeYbWGjMfCiFAiB3HgUb7jMm46hB2O43GzVj8yoBCvdzlfpDNgcQY5zxSzJX5o4vHaaxPmEldkiQ4MkgKhi3WAqILxPeAnRes9Pe9Qq8HzubgR0jBdQ1ob9377IT2pA2sFP3fhrB4QHRtHbZBIY0KkRJ2QtFvxIhGklQ/wHEmwl4SDBNW2qVNYX6UO6SgjMR6j+3PBep8gjUGDETJCaW/ockpwhgNkfdTuM2VCJzT9m77AP+ZD+sJOwvATGRoyE5X2Qw24tJqtFNA7zI6E3Edlqorm6o+zDtGXzB54IWJT9cTFJf48/yM778v3AHbzR278WhanfDSh4pntVKuHzrvl27Bdcp4tQWdA77dXvHl/IS/zrCrDLt4dpwr7cLl/AN+zrctGxQ1vAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"4\"\n        title=\"4\"\n        src=\"/static/8da216349a6b4e8a3b107d46974aa52f/f058b/4.png\"\n        srcset=\"/static/8da216349a6b4e8a3b107d46974aa52f/c26ae/4.png 158w,\n/static/8da216349a6b4e8a3b107d46974aa52f/6bdcf/4.png 315w,\n/static/8da216349a6b4e8a3b107d46974aa52f/f058b/4.png 630w,\n/static/8da216349a6b4e8a3b107d46974aa52f/40601/4.png 945w,\n/static/8da216349a6b4e8a3b107d46974aa52f/78612/4.png 1260w,\n/static/8da216349a6b4e8a3b107d46974aa52f/df5d6/4.png 2514w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h1>ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš© í”„ë¡œì íŠ¸</h1>\n<p>ì´ì œ ì˜¬ë¼ê°„ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ ë´…ì‹œë‹¤. node í”„ë¡œì íŠ¸ë¥¼ ì¤€ë¹„í•©ë‹ˆë‹¤.</p>\n<h2>.npmrc ì‘ì„±</h2>\n<p>ì´ì „ì— .npmrcë¥¼ ì‚¬ìš©ì ë””ë ‰í† ë¦¬ì— ì‘ì„±í•˜ì‹  ë¶„ë“¤ì€ npm install ë¥¼ í•˜ì‹œë©´ ë°”ë¡œ ì„¤ì¹˜ê°€ ë˜ì§€ë§Œ í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ì— ì‘ì„±í•˜ì‹  ë¶„ë“¤ì€ ì‚¬ìš©í•˜ë ¤ëŠ” í”„ë¡œì íŠ¸ì—ë„ .npmrc ë¥¼ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># .npmrc</span>\n@themoin<span class=\"token punctuation\">:</span>registry=https<span class=\"token punctuation\">:</span>//npm.pkg.github.com\n//npm.pkg.github.com/<span class=\"token punctuation\">:</span>_authToken=abc</code></pre></div>\n<p>.npmrc ì„¤ì •ì´ ì™„ë£Œ ë˜ì—ˆìœ¼ë©´ npm install í•´ë´…ì‹œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> @themoin/greeter@1.0.0                                                                                                                     <span class=\"token number\">14</span>:50:35\n<span class=\"token function\">npm</span> WARN greeter-user@1.0.0 No description\n<span class=\"token function\">npm</span> WARN greeter-user@1.0.0 No repository field.\n\n+ @themoin/greeter@1.0.0\nadded <span class=\"token number\">1</span> package and audited <span class=\"token number\">1</span> package <span class=\"token keyword\">in</span> <span class=\"token number\">4</span>.683s\nfound <span class=\"token number\">0</span> vulnerabilities</code></pre></div>\n<h2>ì½”ë“œ ì‘ì„±</h2>\n<p>ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì„¤ì¹˜ê°€ ì™„ë£Œ ë˜ì—ˆìœ¼ë©´ ì½”ë“œë¥¼ ì‘ì„±í•´ ë´…ì‹œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// ~/index.ts</span>\n<span class=\"token keyword\">import</span> Greeter <span class=\"token keyword\">from</span> <span class=\"token string\">\"@themoin/greeter\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> greeter <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Greeter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> msg <span class=\"token operator\">=</span> greeter<span class=\"token punctuation\">.</span><span class=\"token function\">greet</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Moin\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Hello Moin</span></code></pre></div>\n<p>ì‘ì„±ëœ ì½”ë“œë¥¼ ì‹¤í–‰í•´ ë´…ì‹œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ ts-node index.ts\nHello Moin</code></pre></div>\n<h2>Github Action ì²˜ë¦¬</h2>\n<p>npm publish ë¥¼ í•´ì„œ ë°°í¬í•´ë„ ì¢‹ì§€ë§Œ ì´ í¬ìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ëŠ” ëª©ì ì´ Actionë¥¼ í™œìš©í•œ CI/CD ì´ê¸° ë•Œë¬¸ì— Action êµ¬ì„±ì„ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># ~/.github/workflows</span>\n<span class=\"token comment\"># This workflow will run tests using node and then publish a package to GitHub Packages when a release is created</span>\n<span class=\"token comment\"># For more information see: https://help.github.com/actions/language-and-framework-guides/publishing-nodejs-packages</span>\n\n<span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Node.js Package\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">release</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">types</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>created<span class=\"token punctuation\">]</span>\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">test</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/setup<span class=\"token punctuation\">-</span>node@v1\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">node-version</span><span class=\"token punctuation\">:</span> <span class=\"token number\">12</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm ci\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm test\n\n  <span class=\"token key atrule\">publish</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">needs</span><span class=\"token punctuation\">:</span> build\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/setup<span class=\"token punctuation\">-</span>node@v1\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">node-version</span><span class=\"token punctuation\">:</span> <span class=\"token number\">12</span>\n          <span class=\"token key atrule\">registry-url</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//npm.pkg.github.com/\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm ci\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm run build\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm publish\n        <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">NODE_AUTH_TOKEN</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>secrets.GITHUB_TOKEN<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">on</code> ë¶€ë¶„ì„ ë³´ë©´ release ê°€ ìƒì„±(created) ë  ë•Œ, í•´ë‹¹ êµ¬ì„± íŒŒì¼ ë°”íƒ•ìœ¼ë¡œ CI/CDê°€ ì§„í–‰ ë©ë‹ˆë‹¤. êµ¬ì„± íŒŒì¼ì˜ ë‚´ìš©ì´ í¬ê²Œ ì–´ë µì§€ ì•ŠìŠµë‹ˆë‹¤. ì‘ì—…(jobs)ëŠ” í…ŒìŠ¤íŠ¸(test)ì™€ ë°°í¬(publish) ì…ë‹ˆë‹¤. ì–´ë ¤ìš´ ë¶€ë¶„ì´ ì•„ë‹ˆë‹ˆ ì°¬ì°¬íˆ í•´ì„í•˜ì‹œë©´ ì–´ë µì§€ ì•Šì„ ê²ƒì…ë‹ˆë‹¤.</p>\n<h2>ë¦´ë¦¬ì¦ˆ ì‘ì„± ë° ìë™ Action ì‹¤í–‰</h2>\n<p>registry ì— ì˜¬ë¼ì™€ ìˆëŠ” 1.0.0 ë²„ì „ì˜ packageëŠ” ì‚­ì œí–ˆìŠµë‹ˆë‹¤</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7c1f9d49f503076e3725e56dc8b55d10/1cb21/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.30379746835443%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABnUlEQVQoz01SV27cMBTU/U8TIFfIAZL4z4GNbHZXsgqb2OvkkVgvTGAgFj1OeZxCjHDOI5eCECJiTGgNDzTQBykXnNrA+wh2Cnx7+Y5ftxc42+syCtV25JwxcXXitjLMu8QmNJTLMKHi9AUmVkIba64DDuWwSYPLfkAYCykVtDFw3sOHgFYrJuUKuNSkQBNDQSVVkkjUqce80E+1toFS6oBSerjpF3UHX8dkfMJpHBW2Ya1D6c4ayE5FTHng8ywlsk/qPJ2znYMfEqWrSxEtJ0wpJRwHI8YwGHpuPa+uuNvoikaWnyDFmi50+wp1u8IfO9opUTsEw9Slz8sHuBDPIkHZnGQ5kbJuue/Vx1mltaBI7McCZQOETcgPu603pVCXpOCIwT1z8N7BO4tCFvBMqT3nNVdkqlnf33Bcr4hsRRELCt+oyybj72ZxOzzuPBICrofDnQXMIo79WSSsZ8WugT/bjh9vv7FIiX/XO17fL7CGo8WdiCx12WbcD4uFOSzcYWaW4B6wA5tKYIaejgUujOPn7RXMmpFnpHf8dfwHLZi4SCKyEV4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"1\"\n        title=\"1\"\n        src=\"/static/7c1f9d49f503076e3725e56dc8b55d10/f058b/1.png\"\n        srcset=\"/static/7c1f9d49f503076e3725e56dc8b55d10/c26ae/1.png 158w,\n/static/7c1f9d49f503076e3725e56dc8b55d10/6bdcf/1.png 315w,\n/static/7c1f9d49f503076e3725e56dc8b55d10/f058b/1.png 630w,\n/static/7c1f9d49f503076e3725e56dc8b55d10/40601/1.png 945w,\n/static/7c1f9d49f503076e3725e56dc8b55d10/78612/1.png 1260w,\n/static/7c1f9d49f503076e3725e56dc8b55d10/1cb21/1.png 2586w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>ì•„ë˜ëŠ” ì œê°€ githubì— 1.0.0 ë¦´ë¦¬ì¦ˆë¥¼ ìƒì„± í•œ ê²ƒì„ ìº¡ì²˜ í•œ ê²ƒì…ë‹ˆë‹¤</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/50dd639fe918b518e4c62ca767773334/97755/2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.075949367088604%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAAAqklEQVQoz52RYQrCMAyFe//b+NcT+MdjDESZs9tcmybpM50M7BgD9+ARSPu+pNSdLi3O1xaSEr7KyLn2lpZ+stwwjkghQlngyoGoIAlZzVbzZnjbAIsgRgIbWFXhSoCF0Q0dnt6jufeYpoBgE6cQwDZ1D7rWDCxk73uEGEAU52eUntj0Uve3rO2Wywvg5QdQ4r8gFfB39UiE5vHGrSMk1uPA9TZqn6MHYMUf0SUo97j9kfUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2\"\n        title=\"2\"\n        src=\"/static/50dd639fe918b518e4c62ca767773334/f058b/2.png\"\n        srcset=\"/static/50dd639fe918b518e4c62ca767773334/c26ae/2.png 158w,\n/static/50dd639fe918b518e4c62ca767773334/6bdcf/2.png 315w,\n/static/50dd639fe918b518e4c62ca767773334/f058b/2.png 630w,\n/static/50dd639fe918b518e4c62ca767773334/40601/2.png 945w,\n/static/50dd639fe918b518e4c62ca767773334/78612/2.png 1260w,\n/static/50dd639fe918b518e4c62ca767773334/97755/2.png 2536w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>release ê°€ ìƒì„± ë˜ì—ˆìœ¼ë‹ˆ Action ëŠ” êµ¬ì„± ë˜ì–´ ìˆëŠ” ë°ë¡œ Action ë¥¼ ì‹¤í–‰ ì‹œí‚µë‹ˆë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d4b3795c67e857d694ff151421178fc3/36405/3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 22.151898734177216%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAArUlEQVQY05WNSw7CMAxEc3TWcAwkNnAEuAM7tvxURIvaqEkT5zs4ASFYYuVpRiN7Ik43iWtn0PQeh7PGfSBIOaBtO8QY8e+I5bbBfH3EYnPBbHXGbi/hrMajH+Cc59KEwMUvUqVmIcKH8EPZEUDmF7g7fX4Z1QRDnpciyAe4N+QKvmaTIejJQmmDUU/VG0sQOddKFE2pOlhykMqAiLjAsbrqMy99U6bcKK1ZU82eyXk2MZnEtloAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"3\"\n        title=\"3\"\n        src=\"/static/d4b3795c67e857d694ff151421178fc3/f058b/3.png\"\n        srcset=\"/static/d4b3795c67e857d694ff151421178fc3/c26ae/3.png 158w,\n/static/d4b3795c67e857d694ff151421178fc3/6bdcf/3.png 315w,\n/static/d4b3795c67e857d694ff151421178fc3/f058b/3.png 630w,\n/static/d4b3795c67e857d694ff151421178fc3/40601/3.png 945w,\n/static/d4b3795c67e857d694ff151421178fc3/78612/3.png 1260w,\n/static/d4b3795c67e857d694ff151421178fc3/36405/3.png 2486w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>ë‘ ê°œì˜ ì‘ì—…ì´ ëª¨ë‘ ì˜ ì²˜ë¦¬ëœ ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‘ì—… ëª¨ë‘ ì™„ë£Œë˜ê³  ì ì‹œ ê¸°ë‹¤ë¦¬ë©´ Package ë¶€ë¶„ì— 1.0.0 ë²„ì „ì´ ì˜¬ë¼ ì˜¨ ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8da216349a6b4e8a3b107d46974aa52f/df5d6/4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.93670886075949%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABn0lEQVQoz0VRW46cMBDk/ofIDfKRW2x+EkVKpGhGsxuNsgwGFj/AGNvgSrUns2tRtPvp6u4mhA1bjMh5p0xVyilFUOo9pQy3LNhChHIjPv36jK/tD2w+IO8Z+75X5JzRdJPB9faGdrRQeoHbCnHAhQNzLFgiqm10AYMJ6BhzUh2GeYbWGjMfCiFAiB3HgUb7jMm46hB2O43GzVj8yoBCvdzlfpDNgcQY5zxSzJX5o4vHaaxPmEldkiQ4MkgKhi3WAqILxPeAnRes9Pe9Qq8HzubgR0jBdQ1ob9377IT2pA2sFP3fhrB4QHRtHbZBIY0KkRJ2QtFvxIhGklQ/wHEmwl4SDBNW2qVNYX6UO6SgjMR6j+3PBep8gjUGDETJCaW/ockpwhgNkfdTuM2VCJzT9m77AP+ZD+sJOwvATGRoyE5X2Qw24tJqtFNA7zI6E3Edlqorm6o+zDtGXzB54IWJT9cTFJf48/yM778v3AHbzR278WhanfDSh4pntVKuHzrvl27Bdcp4tQWdA77dXvHl/IS/zrCrDLt4dpwr7cLl/AN+zrctGxQ1vAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"4\"\n        title=\"4\"\n        src=\"/static/8da216349a6b4e8a3b107d46974aa52f/f058b/4.png\"\n        srcset=\"/static/8da216349a6b4e8a3b107d46974aa52f/c26ae/4.png 158w,\n/static/8da216349a6b4e8a3b107d46974aa52f/6bdcf/4.png 315w,\n/static/8da216349a6b4e8a3b107d46974aa52f/f058b/4.png 630w,\n/static/8da216349a6b4e8a3b107d46974aa52f/40601/4.png 945w,\n/static/8da216349a6b4e8a3b107d46974aa52f/78612/4.png 1260w,\n/static/8da216349a6b4e8a3b107d46974aa52f/df5d6/4.png 2514w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>","frontmatter":{"title":"Github Action ë„ì…ê¸° 1- NodeJS Private Package ë°°í¬ CI/CD ","date":"November 09, 2020","description":null,"author":"ë°•ê°€ëŒ"}},"previous":null,"next":{"fields":{"slug":"/2020-11-02-SecureFrontend/"},"frontmatter":{"title":"í”„ë¡ íŠ¸ì—”ë“œì—ì„œì˜ ì‹œíì–´ ì½”ë”©"}}},"pageContext":{"id":"4f51fb05-8d64-56ab-88de-ee37576fe7c1","previousPostId":null,"nextPostId":"8a19b6ff-cd19-5463-a955-23a92607c1e4"}},"staticQueryHashes":["2841359383","916993862"]}