{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/2020-11-09-github-action-1-nodejs-private-package-cicd/","result":{"data":{"site":{"siteMetadata":{"title":"모인 기술 블로그"}},"markdownRemark":{"id":"4f51fb05-8d64-56ab-88de-ee37576fe7c1","excerpt":"모인 개발팀은 를 주 로 사용하고 있습니다. microsoft 가 github를 인수하고 나서 github는 이전보다 더 좋은 환경을 제공하고 있습니다. 그 중에 눈에 들어온 서비스가 있었습니다. 그것은 github action - CI/CI…","html":"<p>모인 개발팀은 <code class=\"language-text\">github</code>를 주 <code class=\"language-text\">repository</code>로 사용하고 있습니다. microsoft 가 github를 인수하고 나서 github는 이전보다 더 좋은 환경을 제공하고 있습니다. 그 중에 눈에 들어온 서비스가 있었습니다. 그것은 github action - CI/CI 서비스입니다. 모인 개발팀은 기본적으로 젠킨스를 활용하여 CI/CD를 사용하고 있습니다. 하지만 젠킨스를 <strong>‘정말 잘’</strong> 다루는 인원도 없고 젠킨스 구성 파일은 특별한(?) 문법을 사용하고 있어서 읽기도 어려운 상황이어서 ‘develop 환경에서는 github action 를 사용해 보면 어떨까’하는 의견이 있었습니다.</p>\n<h1>NodeJS Private Package 배포 CI/CD</h1>\n<p>Github Action는 다양한 예제가 존재하고 다양한 기능들이 여러 기여자로 부터 생성되어 제공되고 있었습니다. 이번 포스트에서는 github 에서 제공하는 private registry 에 node package 를 배포하고 다른 프로젝트에서 사용하는 예제를 다루겠습니다. 그리고 Action 를 활용하여 publish 를 자동으로 하는 구성을 적용하겠습니다.</p>\n<p>코드와 관련 사항은 <a href=\"https://github.com/themoin/greeter\">https://github.com/themoin/greeter</a> 에서 확인 할 수 있습니다.</p>\n<h1>라이브러리 프로젝트</h1>\n<p>오해를 최대한 줄이기 위해서 인사하는 클래스(Greeter)를 만들어 배포할 것입니다. Greeter 클래스의 활용은 다음과 같이 하려고 합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> greeter <span class=\"token keyword\">from</span> <span class=\"token string\">\"@themoin/greeter\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> greeter <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Greeter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> greeting_msg <span class=\"token operator\">=</span> greeter<span class=\"token punctuation\">.</span><span class=\"token function\">greet</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Moin\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>greeting_msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Hello Moin</span></code></pre></div>\n<h2>프로젝트 설정 및 코드 작성</h2>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Greeter</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">greet</span><span class=\"token punctuation\">(</span>to<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Hello </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>to<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>package.json 수정</h2>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"@themoin/greeter\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.0.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"main\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"out/Greeter.js\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"jest\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"tsc\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"keywords\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"license\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ISC\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"devDependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"@types/jest\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^26.0.15\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"jest\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^26.6.3\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"ts-jest\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^26.4.3\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"ts-node\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^9.0.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"typescript\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^4.0.5\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>여기서 처리해야 하는 부분은 <code class=\"language-text\">name</code> 과 <code class=\"language-text\">version</code>, <code class=\"language-text\">main</code> 부분입니다. <code class=\"language-text\">name</code> 은 계정이나 기관의 이름에 <code class=\"language-text\">@</code> prefix 를 붙이는 것입니다. 그리고 <code class=\"language-text\">\\</code> 로 구분하여 package 이름을 적어 넣습니다. <code class=\"language-text\">name</code> 값으로 있는 <code class=\"language-text\">@themoin/greeter</code> 에서 themoin 는 기관명이고 greeter 는 패키지 이릅니다. 패키지 이름은 반드시 github repository 이름과 동일해야 합니다. version 는 package registry 상 패키지의 유일한 버전으로 합니다. <code class=\"language-text\">main</code> 처리는 보통 index.js 로 하지만 저는 Greeter.js 로 main 으로 처리했습니다.</p>\n<h2>.npmrc 적용</h2>\n<p>.npmrc를 작성해면 <code class=\"language-text\">npm publish</code> 시, 원하는 registry 에 package를 업로드 할 수 있습니다. .npmrc 를 전역으로 사용하려면 사용자 directory(<code class=\"language-text\">~/.npmrc</code>)나 npm 를 실행하는 프로젝트 root directory 에 작성하면 됩니다. <code class=\"language-text\">.npmrc</code> 에 두 가지 값을 설정합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">@themoin:registry<span class=\"token operator\">=</span>https://npm.pkg.github.com\n//npm.pkg.github.com/:_authToken<span class=\"token operator\">=</span>abc</code></pre></div>\n<p>첫 번째 , <code class=\"language-text\">@themoin:registry=https://npm.pkg.github.com</code> 를 보면 알겠지만 <code class=\"language-text\">@themoin</code> 이로 시작하는 패키지의 <code class=\"language-text\">https://npm.pkg.github.com</code> registry 를 사용하겠다는 뜻입니다. 다음에 있는 <code class=\"language-text\">//npm.pkg.github.com/:_authToken=abc</code> 는 private registry 를 사용하기 위한 인증 토큰 값입니다. 해당 토큰은 <a href=\"https://github.com/settings/tokens\">링크</a>에서 발급 받을 수 있습니다. 생성할 때에 <code class=\"language-text\">write:packages</code> 를 꼭 추가해 주셔야 패키지를 업로드 할 수 있습니다.</p>\n<h2>.npmignore 처리</h2>\n<p>npm publish 를 하면 이것 저것 올라가면 안되는 것들도 포함됩니다. 저는 아래와 같은 것들이 올라가면 안 되서 작성 했습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># .npmignore</span>\nsrc\ntests\njest.config.js\ntsconfig.json\n.jest</code></pre></div>\n<h2>배포하기</h2>\n<p>package.json 와 .npmrc 및 .npmignore가 적절하게 작성 되었다면 배포를 해봅시다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> publish\n<span class=\"token function\">npm</span> notice\n<span class=\"token function\">npm</span> notice 📦  @themoin/greeter@1.0.0\n<span class=\"token function\">npm</span> notice <span class=\"token operator\">==</span><span class=\"token operator\">=</span> Tarball Contents <span class=\"token operator\">==</span><span class=\"token operator\">=</span>\n<span class=\"token function\">npm</span> notice 174B out/Greeter.js\n<span class=\"token function\">npm</span> notice 375B package.json\n<span class=\"token function\">npm</span> notice 64B  out/Greeter.d.ts\n<span class=\"token function\">npm</span> notice <span class=\"token operator\">==</span><span class=\"token operator\">=</span> Tarball Details <span class=\"token operator\">==</span><span class=\"token operator\">=</span>\n<span class=\"token function\">npm</span> notice name:          @themoin/greeter\n<span class=\"token function\">npm</span> notice version:       <span class=\"token number\">1.0</span>.0\n<span class=\"token function\">npm</span> notice package size:  <span class=\"token number\">504</span> B\n<span class=\"token function\">npm</span> notice unpacked size: <span class=\"token number\">613</span> B\n<span class=\"token function\">npm</span> notice shasum:        0c69<span class=\"token punctuation\">..</span>.61f49\n<span class=\"token function\">npm</span> notice integrity:     sha512-f6URJM1<span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span>OamBe4/gXumhQ<span class=\"token operator\">==</span>\n<span class=\"token function\">npm</span> notice total files:   <span class=\"token number\">3</span>\n<span class=\"token function\">npm</span> notice\n+ @themoin/greeter@1.0.0\n$</code></pre></div>\n<p>github repository 에 가서 확인하면 다음과 같이 package 부분에 추가 된 것을 확인할 수 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8da216349a6b4e8a3b107d46974aa52f/df5d6/4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.93670886075949%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABn0lEQVQoz0VRW46cMBDk/ofIDfKRW2x+EkVKpGhGsxuNsgwGFj/AGNvgSrUns2tRtPvp6u4mhA1bjMh5p0xVyilFUOo9pQy3LNhChHIjPv36jK/tD2w+IO8Z+75X5JzRdJPB9faGdrRQeoHbCnHAhQNzLFgiqm10AYMJ6BhzUh2GeYbWGjMfCiFAiB3HgUb7jMm46hB2O43GzVj8yoBCvdzlfpDNgcQY5zxSzJX5o4vHaaxPmEldkiQ4MkgKhi3WAqILxPeAnRes9Pe9Qq8HzubgR0jBdQ1ob9377IT2pA2sFP3fhrB4QHRtHbZBIY0KkRJ2QtFvxIhGklQ/wHEmwl4SDBNW2qVNYX6UO6SgjMR6j+3PBep8gjUGDETJCaW/ockpwhgNkfdTuM2VCJzT9m77AP+ZD+sJOwvATGRoyE5X2Qw24tJqtFNA7zI6E3Edlqorm6o+zDtGXzB54IWJT9cTFJf48/yM778v3AHbzR278WhanfDSh4pntVKuHzrvl27Bdcp4tQWdA77dXvHl/IS/zrCrDLt4dpwr7cLl/AN+zrctGxQ1vAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"4\"\n        title=\"4\"\n        src=\"/static/8da216349a6b4e8a3b107d46974aa52f/f058b/4.png\"\n        srcset=\"/static/8da216349a6b4e8a3b107d46974aa52f/c26ae/4.png 158w,\n/static/8da216349a6b4e8a3b107d46974aa52f/6bdcf/4.png 315w,\n/static/8da216349a6b4e8a3b107d46974aa52f/f058b/4.png 630w,\n/static/8da216349a6b4e8a3b107d46974aa52f/40601/4.png 945w,\n/static/8da216349a6b4e8a3b107d46974aa52f/78612/4.png 1260w,\n/static/8da216349a6b4e8a3b107d46974aa52f/df5d6/4.png 2514w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h1>라이브러리 사용 프로젝트</h1>\n<p>이제 올라간 라이브러리를 사용해 봅시다. node 프로젝트를 준비합니다.</p>\n<h2>.npmrc 작성</h2>\n<p>이전에 .npmrc를 사용자 디렉토리에 작성하신 분들은 npm install 를 하시면 바로 설치가 되지만 프로젝트 디렉토리에 작성하신 분들은 사용하려는 프로젝트에도 .npmrc 를 작성해야 합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># .npmrc</span>\n@themoin<span class=\"token punctuation\">:</span>registry=https<span class=\"token punctuation\">:</span>//npm.pkg.github.com\n//npm.pkg.github.com/<span class=\"token punctuation\">:</span>_authToken=abc</code></pre></div>\n<p>.npmrc 설정이 완료 되었으면 npm install 해봅시다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> @themoin/greeter@1.0.0                                                                                                                     <span class=\"token number\">14</span>:50:35\n<span class=\"token function\">npm</span> WARN greeter-user@1.0.0 No description\n<span class=\"token function\">npm</span> WARN greeter-user@1.0.0 No repository field.\n\n+ @themoin/greeter@1.0.0\nadded <span class=\"token number\">1</span> package and audited <span class=\"token number\">1</span> package <span class=\"token keyword\">in</span> <span class=\"token number\">4</span>.683s\nfound <span class=\"token number\">0</span> vulnerabilities</code></pre></div>\n<h2>코드 작성</h2>\n<p>라이브러리가 설치가 완료 되었으면 코드를 작성해 봅시다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// ~/index.ts</span>\n<span class=\"token keyword\">import</span> Greeter <span class=\"token keyword\">from</span> <span class=\"token string\">\"@themoin/greeter\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> greeter <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Greeter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> msg <span class=\"token operator\">=</span> greeter<span class=\"token punctuation\">.</span><span class=\"token function\">greet</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Moin\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Hello Moin</span></code></pre></div>\n<p>작성된 코드를 실행해 봅시다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ ts-node index.ts\nHello Moin</code></pre></div>\n<h2>Github Action 처리</h2>\n<p>npm publish 를 해서 배포해도 좋지만 이 포스트를 작성하는 목적이 Action를 활용한 CI/CD 이기 때문에 Action 구성을 작성했습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># ~/.github/workflows</span>\n<span class=\"token comment\"># This workflow will run tests using node and then publish a package to GitHub Packages when a release is created</span>\n<span class=\"token comment\"># For more information see: https://help.github.com/actions/language-and-framework-guides/publishing-nodejs-packages</span>\n\n<span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Node.js Package\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">release</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">types</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>created<span class=\"token punctuation\">]</span>\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">test</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/setup<span class=\"token punctuation\">-</span>node@v1\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">node-version</span><span class=\"token punctuation\">:</span> <span class=\"token number\">12</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm ci\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm test\n\n  <span class=\"token key atrule\">publish</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">needs</span><span class=\"token punctuation\">:</span> build\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/setup<span class=\"token punctuation\">-</span>node@v1\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">node-version</span><span class=\"token punctuation\">:</span> <span class=\"token number\">12</span>\n          <span class=\"token key atrule\">registry-url</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//npm.pkg.github.com/\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm ci\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm run build\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm publish\n        <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">NODE_AUTH_TOKEN</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>secrets.GITHUB_TOKEN<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">on</code> 부분을 보면 release 가 생성(created) 될 때, 해당 구성 파일 바탕으로 CI/CD가 진행 됩니다. 구성 파일의 내용이 크게 어렵지 않습니다. 작업(jobs)는 테스트(test)와 배포(publish) 입니다. 어려운 부분이 아니니 찬찬히 해석하시면 어렵지 않을 것입니다.</p>\n<h2>릴리즈 작성 및 자동 Action 실행</h2>\n<p>registry 에 올라와 있는 1.0.0 버전의 package는 삭제했습니다</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7c1f9d49f503076e3725e56dc8b55d10/1cb21/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.30379746835443%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABnUlEQVQoz01SV27cMBTU/U8TIFfIAZL4z4GNbHZXsgqb2OvkkVgvTGAgFj1OeZxCjHDOI5eCECJiTGgNDzTQBykXnNrA+wh2Cnx7+Y5ftxc42+syCtV25JwxcXXitjLMu8QmNJTLMKHi9AUmVkIba64DDuWwSYPLfkAYCykVtDFw3sOHgFYrJuUKuNSkQBNDQSVVkkjUqce80E+1toFS6oBSerjpF3UHX8dkfMJpHBW2Ya1D6c4ayE5FTHng8ywlsk/qPJ2znYMfEqWrSxEtJ0wpJRwHI8YwGHpuPa+uuNvoikaWnyDFmi50+wp1u8IfO9opUTsEw9Slz8sHuBDPIkHZnGQ5kbJuue/Vx1mltaBI7McCZQOETcgPu603pVCXpOCIwT1z8N7BO4tCFvBMqT3nNVdkqlnf33Bcr4hsRRELCt+oyybj72ZxOzzuPBICrofDnQXMIo79WSSsZ8WugT/bjh9vv7FIiX/XO17fL7CGo8WdiCx12WbcD4uFOSzcYWaW4B6wA5tKYIaejgUujOPn7RXMmpFnpHf8dfwHLZi4SCKyEV4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"1\"\n        title=\"1\"\n        src=\"/static/7c1f9d49f503076e3725e56dc8b55d10/f058b/1.png\"\n        srcset=\"/static/7c1f9d49f503076e3725e56dc8b55d10/c26ae/1.png 158w,\n/static/7c1f9d49f503076e3725e56dc8b55d10/6bdcf/1.png 315w,\n/static/7c1f9d49f503076e3725e56dc8b55d10/f058b/1.png 630w,\n/static/7c1f9d49f503076e3725e56dc8b55d10/40601/1.png 945w,\n/static/7c1f9d49f503076e3725e56dc8b55d10/78612/1.png 1260w,\n/static/7c1f9d49f503076e3725e56dc8b55d10/1cb21/1.png 2586w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>아래는 제가 github에 1.0.0 릴리즈를 생성 한 것을 캡처 한 것입니다</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/50dd639fe918b518e4c62ca767773334/97755/2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.075949367088604%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAAAqklEQVQoz52RYQrCMAyFe//b+NcT+MdjDESZs9tcmybpM50M7BgD9+ARSPu+pNSdLi3O1xaSEr7KyLn2lpZ+stwwjkghQlngyoGoIAlZzVbzZnjbAIsgRgIbWFXhSoCF0Q0dnt6jufeYpoBgE6cQwDZ1D7rWDCxk73uEGEAU52eUntj0Uve3rO2Wywvg5QdQ4r8gFfB39UiE5vHGrSMk1uPA9TZqn6MHYMUf0SUo97j9kfUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2\"\n        title=\"2\"\n        src=\"/static/50dd639fe918b518e4c62ca767773334/f058b/2.png\"\n        srcset=\"/static/50dd639fe918b518e4c62ca767773334/c26ae/2.png 158w,\n/static/50dd639fe918b518e4c62ca767773334/6bdcf/2.png 315w,\n/static/50dd639fe918b518e4c62ca767773334/f058b/2.png 630w,\n/static/50dd639fe918b518e4c62ca767773334/40601/2.png 945w,\n/static/50dd639fe918b518e4c62ca767773334/78612/2.png 1260w,\n/static/50dd639fe918b518e4c62ca767773334/97755/2.png 2536w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>release 가 생성 되었으니 Action 는 구성 되어 있는 데로 Action 를 실행 시킵니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d4b3795c67e857d694ff151421178fc3/36405/3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 22.151898734177216%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAArUlEQVQY05WNSw7CMAxEc3TWcAwkNnAEuAM7tvxURIvaqEkT5zs4ASFYYuVpRiN7Ik43iWtn0PQeh7PGfSBIOaBtO8QY8e+I5bbBfH3EYnPBbHXGbi/hrMajH+Cc59KEwMUvUqVmIcKH8EPZEUDmF7g7fX4Z1QRDnpciyAe4N+QKvmaTIejJQmmDUU/VG0sQOddKFE2pOlhykMqAiLjAsbrqMy99U6bcKK1ZU82eyXk2MZnEtloAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"3\"\n        title=\"3\"\n        src=\"/static/d4b3795c67e857d694ff151421178fc3/f058b/3.png\"\n        srcset=\"/static/d4b3795c67e857d694ff151421178fc3/c26ae/3.png 158w,\n/static/d4b3795c67e857d694ff151421178fc3/6bdcf/3.png 315w,\n/static/d4b3795c67e857d694ff151421178fc3/f058b/3.png 630w,\n/static/d4b3795c67e857d694ff151421178fc3/40601/3.png 945w,\n/static/d4b3795c67e857d694ff151421178fc3/78612/3.png 1260w,\n/static/d4b3795c67e857d694ff151421178fc3/36405/3.png 2486w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>두 개의 작업이 모두 잘 처리된 것을 확인 할 수 있습니다. 작업 모두 완료되고 잠시 기다리면 Package 부분에 1.0.0 버전이 올라 온 것을 확인 할 수 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8da216349a6b4e8a3b107d46974aa52f/df5d6/4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.93670886075949%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABn0lEQVQoz0VRW46cMBDk/ofIDfKRW2x+EkVKpGhGsxuNsgwGFj/AGNvgSrUns2tRtPvp6u4mhA1bjMh5p0xVyilFUOo9pQy3LNhChHIjPv36jK/tD2w+IO8Z+75X5JzRdJPB9faGdrRQeoHbCnHAhQNzLFgiqm10AYMJ6BhzUh2GeYbWGjMfCiFAiB3HgUb7jMm46hB2O43GzVj8yoBCvdzlfpDNgcQY5zxSzJX5o4vHaaxPmEldkiQ4MkgKhi3WAqILxPeAnRes9Pe9Qq8HzubgR0jBdQ1ob9377IT2pA2sFP3fhrB4QHRtHbZBIY0KkRJ2QtFvxIhGklQ/wHEmwl4SDBNW2qVNYX6UO6SgjMR6j+3PBep8gjUGDETJCaW/ockpwhgNkfdTuM2VCJzT9m77AP+ZD+sJOwvATGRoyE5X2Qw24tJqtFNA7zI6E3Edlqorm6o+zDtGXzB54IWJT9cTFJf48/yM778v3AHbzR278WhanfDSh4pntVKuHzrvl27Bdcp4tQWdA77dXvHl/IS/zrCrDLt4dpwr7cLl/AN+zrctGxQ1vAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"4\"\n        title=\"4\"\n        src=\"/static/8da216349a6b4e8a3b107d46974aa52f/f058b/4.png\"\n        srcset=\"/static/8da216349a6b4e8a3b107d46974aa52f/c26ae/4.png 158w,\n/static/8da216349a6b4e8a3b107d46974aa52f/6bdcf/4.png 315w,\n/static/8da216349a6b4e8a3b107d46974aa52f/f058b/4.png 630w,\n/static/8da216349a6b4e8a3b107d46974aa52f/40601/4.png 945w,\n/static/8da216349a6b4e8a3b107d46974aa52f/78612/4.png 1260w,\n/static/8da216349a6b4e8a3b107d46974aa52f/df5d6/4.png 2514w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>","frontmatter":{"title":"Github Action 도입기 1- NodeJS Private Package 배포 CI/CD ","date":"November 09, 2020","description":null,"author":"박가람"}},"previous":null,"next":{"fields":{"slug":"/2020-11-02-SecureFrontend/"},"frontmatter":{"title":"프론트엔드에서의 시큐어 코딩"}}},"pageContext":{"id":"4f51fb05-8d64-56ab-88de-ee37576fe7c1","previousPostId":null,"nextPostId":"8a19b6ff-cd19-5463-a955-23a92607c1e4"}},"staticQueryHashes":["2841359383","916993862"]}